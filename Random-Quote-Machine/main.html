<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a Random Quote Maschine</title>

    <script>

        const QUOTEBANK = [
            {
                quote: "When the power of love overcomes the love of power the world will know peace.",
                author: "Jimi Hinrix"

            }, 
            {
                quote: "I do not think you can trust bankers to control themselves. They are like heroin addicts.",
                author: "Charlie Munger"
            }, 
            {
                quote: "[W]hen you think about what in fact distinguishes a bank as a lender, it's how much money it loses on the assets it chooses to take risk with.",
                author: "Joseph Ficalora"
            }
        ]

        window.onload = init;
        function init() {
            generateQuote()
        }

        function generateQuote() {

            let quoteSize = QUOTEBANK.length;
            let randomIndex = Math.floor(Math.random() * quoteSize);
            let randomQuoteData = QUOTEBANK[randomIndex];

            let twiterLink = 'https://twitter.com/intent/tweet?hashtags=quotes&related=freecodecamp&text='
            // add the quote
            let quoteInApiFormat = randomQuoteData.quote.replace(/ /g, "%20");
            twiterLink += quoteInApiFormat;
            // add the author
            let authorInApiFormat =  randomQuoteData.author.replace(/ /g, "%20");
            twiterLink += " - " + authorInApiFormat
            
            
            document.getElementById("tweet-quote").href = twiterLink;
            document.getElementById("text").innerText = randomQuoteData.quote;
            document.getElementById("author").innerText = randomQuoteData.author;
        }

    </script>

    <style>
        * {
            font-size: 1.5rem;
        }
    </style>
</head>

<body>

    <wrapper id="quote-box">
        <div id="text"></div>
        <div id="author"></div>
        <button id="new-quote" onclick="generateQuote();">New Quote</button>
        <a href="#" id="tweet-quote" target="_blank">Tweet Quote</a>

    </wrapper>



    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>

</body>

</html>